{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\abdil\\\\school\\\\Refugee\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\abdil\\\\school\\\\Refugee\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\abdil\\\\school\\\\Refugee\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\abdil\\\\school\\\\Refugee\\\\frontend\\\\src\\\\pages\\\\Login.js\";\nimport React, { useEffect, useState } from 'react';\nimport './Login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Axios from 'axios';\n\nfunction Login() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setdata = _useState2[1];\n\n  var _useState3 = useState({\n    Full_name: \"\",\n    email: \"\",\n    password: \"\",\n    repeat_password: \"\"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      details = _useState4[0],\n      setdetails = _useState4[1]; // loging in user \n  // context hook\n  // const user = useContext (useuser())\n\n\n  var url = \"http://localhost:3001\";\n\n  function handleClick() {\n    // post request\n    //\n    useEffect(function () {\n      var isMounted = true;\n      Axios.post(\"\".concat(url, \"/login\"), {\n        email: details.email,\n        password: details.password\n      }).then(function (res) {\n        setdata(res.data);\n        localStorage.setItem('user', JSON.stringify(res.data)); // localStorage.removeItem('user')\n        // get user\n        //user = JSON.parse(localStorage.getItem('user'))\n      }).catch(function (err) {\n        console.log(err);\n      });\n      return function () {\n        isMounted = false;\n      };\n    }, []);\n\n    function Handlechange(e) {\n      var name = e.target.name;\n      var value = e.target.value;\n      setdetails(function (prev) {\n        return _objectSpread({}, prev, _defineProperty({}, name, value));\n      });\n    }\n\n    var navigate = useNavigate(); // logincheck\n\n    var _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        notlogedin = _useState6[0],\n        setnotlogedin = _useState6[1];\n\n    function Handlesubmit(event) {\n      event.preventDefault();\n\n      if (data) {\n        navigate('/');\n        window.location.reload();\n      } else {\n        setnotlogedin(true);\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"maincontainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"article\", {\n      class: \"card-body mx-auto\",\n      style: {\n        maxWidth: \"400px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"card-title mt-3 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 20\n      }\n    }, \"Login With Your Account\"), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 20\n      }\n    }, \"Get started with your account\"), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"divider-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"bg-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 24\n      }\n    }, \".\")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: Handlesubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 28\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-envelope\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 60\n      }\n    }), \" \")), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"\",\n      class: \"form-control\",\n      placeholder: \"Email address\",\n      type: \"email\",\n      Name: \"email\",\n      value: details.email,\n      onChange: Handlechange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 28\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-lock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 60\n      }\n    }), \" \")), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      placeholder: \"Enter password\",\n      type: \"password\",\n      Name: \"password\",\n      value: details.password,\n      onChange: Handlechange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 24\n      }\n    })), notlogedin ? /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 32\n      }\n    }, \"Wrong Password Or Email\") : null, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary btn-block\",\n      onClick: handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 24\n      }\n    }, \" Login  \")), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 20\n      }\n    }, \"New here? \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/singup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 53\n      }\n    }, \"Create  new account\"), \" \")))))));\n  }\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/abdil/school/Refugee/frontend/src/pages/Login.js"],"names":["React","useEffect","useState","Link","useNavigate","Axios","Login","data","setdata","Full_name","email","password","repeat_password","details","setdetails","url","handleClick","isMounted","post","then","res","localStorage","setItem","JSON","stringify","catch","err","console","log","Handlechange","e","name","target","value","prev","navigate","notlogedin","setnotlogedin","Handlesubmit","event","preventDefault","window","location","reload","maxWidth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './Login.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link,  useNavigate} from 'react-router-dom';\r\n\r\n\r\nimport Axios  from 'axios';\r\n\r\n\r\nfunction Login() {\r\n\r\n    const [data, setdata] = useState ();\r\n\r\n    const [details, setdetails] = useState({\r\n        Full_name: \"\",\r\n        email:  \"\",\r\n        password: \"\",\r\n        repeat_password: \"\",\r\n    })\r\n\r\n    // loging in user \r\n    // context hook\r\n\r\n   // const user = useContext (useuser())\r\n   \r\n    const url = \"http://localhost:3001\";\r\n    function handleClick () {\r\n        // post request\r\n        \r\n      \r\n    \r\n    //\r\n    useEffect(()=>{\r\n      let isMounted = true;\r\n     \r\n      Axios.post (`${url}/login`, {\r\n\r\n        email : details.email,\r\n      password:  details.password,\r\n   }\r\n   )\r\n   .then((res)=>{\r\n       setdata(res.data) \r\n      localStorage.setItem ('user', JSON.stringify(res.data))\r\n     // localStorage.removeItem('user')\r\n    // get user\r\n    //user = JSON.parse(localStorage.getItem('user'))\r\n     \r\n   })\r\n   .catch (err=>{\r\n     console.log(err);\r\n   })\r\n\r\n\r\n      \r\n      return (()=>{\r\n        isMounted = false\r\n      })\r\n  },[])\r\n  \r\n  \r\n     function Handlechange (e){\r\n      const name = e.target.name;\r\n      const value = e.target.value;\r\n      setdetails (prev => (\r\n          {...prev, [name]: value}\r\n      ))\r\n     }\r\n\r\n\r\n     let navigate = useNavigate();\r\n     // logincheck\r\n     const [notlogedin, setnotlogedin] = useState (false)\r\n\r\n     function Handlesubmit (event){\r\n         \r\n     event.preventDefault();\r\n      \r\n      if (data)\r\n      {\r\n        \r\n        navigate('/')\r\n        window.location.reload();\r\n      }\r\n      \r\n      else {\r\n        setnotlogedin (true)\r\n      }\r\n     \r\n     }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"maincontainer\">\r\n         \r\n         \r\n         <div class=\"container\">\r\n \r\n               <div class=\"card bg-light\">\r\n               <article class=\"card-body mx-auto\" style={{maxWidth: \"400px\"}}>\r\n                   <h4 class=\"card-title mt-3 text-center\">Login With Your Account</h4>\r\n                   <p class=\"text-center\">Get started with your account</p>\r\n                  \r\n                   <p class=\"divider-text\">\r\n                       <span class=\"bg-light\">.</span>\r\n                   </p>\r\n\r\n\r\n                   <form onSubmit={Handlesubmit}>\r\n                   \r\n\r\n\r\n                   <div class=\"form-group input-group\">\r\n                       <div class=\"input-group-prepend\">\r\n                           <span class=\"input-group-text\"> <i class=\"fa fa-envelope\"></i> </span>\r\n                       </div>\r\n                       <input name=\"\" class=\"form-control\" placeholder=\"Email address\" type=\"email\"\r\n                         Name=\"email\"\r\n                         value={details.email}\r\n                         onChange={Handlechange}\r\n                        />\r\n                   </div>\r\n                  \r\n                   \r\n                   <div class=\"form-group input-group\">\r\n                       <div class=\"input-group-prepend\">\r\n                           <span class=\"input-group-text\"> <i class=\"fa fa-lock\"></i> </span>\r\n                       </div>\r\n                       <input class=\"form-control\" placeholder=\"Enter password\" type=\"password\"\r\n                        Name=\"password\"\r\n                        value={details.password}\r\n                        onChange={Handlechange}\r\n                       />\r\n                   </div> \r\n\r\n                 {notlogedin ? <h3>Wrong Password Or Email</h3> : null}\r\n                  \r\n                   \r\n\r\n                   <div class=\"form-group\">\r\n                       <button type=\"submit\" class=\"btn btn-primary btn-block\" onClick={handleClick}> Login  </button>\r\n                   </div>     \r\n\r\n                   \r\n                   <p class=\"text-center\">New here? <Link to='/singup'>Create  new account</Link> </p>                                                                 \r\n               </form>\r\n               </article>\r\n               </div> \r\n               \r\n               </div> \r\n            \r\n       </div>\r\n    </div>\r\n  )\r\n}\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}